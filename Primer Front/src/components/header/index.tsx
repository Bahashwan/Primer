import Link from 'next/link';
import {inter} from "@/styles/fonts";
import {SelectLanguage} from "@/components/header/header-components/select-language";
import {Burger} from "@/components/header/header-components/burger";
import {AuthorizedButton} from "@/components/buttons/authorized-button";
import {ConnectWalletPopup} from "@/components/header/header-components/connect-wallet-popup";
import {ConnectWalletButton} from "@/components/buttons/connect-wallet-button";
import {LoadingButton} from "@/components/buttons/loading-button";
import {StatusAuthentication, useAuthorizationStore} from "@/store/authorization-store";


export function Header() {
    return (
        <header className={"fixed top-0 left-0 right-0 w-full z-20 stabilization " + `${inter.variable} font-sans`}>
            <div className="absolute top-0 left-0 w-full h-full bg-white/[0.75] backdrop-blur-[5px] -z-1"/>
            <div className="max-w-container mx-auto py-4 px-8 lg:px-4">
                <div className="flex items-center justify-between lg:items-center">
                    <Link href="/" className="crypto-hedge-fund" aria-label="crypto-hedge-fund logo">
                        <svg width="151" height="40" viewBox="0 0 151 40" fill="none"
                             xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M36.6166 32.5276H32.1411C31.8914 32.5278 31.6459 32.4624 31.4293 32.3381C31.2127 32.2138 31.0325 32.0348 30.9066 31.8191L24.9393 21.5902C24.8182 21.3829 24.6551 21.2032 24.4606 21.0625C24.266 20.9218 24.0443 20.8232 23.8095 20.773C23.5747 20.7228 23.332 20.7222 23.0969 20.771C22.8619 20.8199 22.6396 20.9173 22.4443 21.0569C22.0967 21.3221 21.8592 21.7061 21.7773 22.1355C21.6954 22.5649 21.7749 23.0094 22.0004 23.3839L25.8754 29.9695C26.0262 30.2298 26.1054 30.5253 26.1049 30.8261C26.1045 31.1268 26.0244 31.4221 25.8729 31.682C25.7214 31.9418 25.5038 32.1569 25.2422 32.3054C24.9806 32.454 24.6844 32.5306 24.3836 32.5276H10.2113C9.77463 32.5206 9.35077 32.6751 9.02105 32.9614C8.69134 33.2477 8.47901 33.6457 8.42482 34.079C8.40139 34.3183 8.42833 34.5598 8.5039 34.7881C8.57947 35.0164 8.70199 35.2263 8.86359 35.4044C9.02518 35.5825 9.22227 35.7248 9.44218 35.8221C9.66208 35.9195 9.89993 35.9697 10.1404 35.9696H36.68C36.9202 35.9692 37.1576 35.9186 37.3771 35.821C37.5965 35.7234 37.7932 35.5811 37.9544 35.403C38.1155 35.225 38.2377 35.0153 38.3131 34.7872C38.3884 34.5592 38.4153 34.318 38.3919 34.079C38.3379 33.6476 38.1272 33.2512 37.7998 32.9651C37.4725 32.6791 37.0513 32.5234 36.6166 32.5276V32.5276Z"
                                fill="url(#paint0_linear_444_1260)"/>
                            <path
                                d="M21.0941 11.928L15.2424 22.1383C15.0234 22.5107 14.9484 22.9504 15.0316 23.3743C15.1147 23.7982 15.3503 24.177 15.6937 24.4392C15.8897 24.5797 16.113 24.6777 16.3491 24.7267C16.5853 24.7757 16.8291 24.7748 17.0649 24.7238C17.3007 24.6729 17.5231 24.5731 17.718 24.431C17.9129 24.2888 18.0758 24.1074 18.1962 23.8984L22.019 17.2233C22.1685 16.9639 22.3837 16.7483 22.643 16.5985C22.9023 16.4487 23.1965 16.3698 23.4959 16.3698C23.7954 16.3698 24.0896 16.4487 24.3489 16.5985C24.6081 16.7483 24.8234 16.9639 24.9728 17.2233L32.0963 29.5592C32.2478 29.8208 32.4653 30.0381 32.7271 30.1892C32.9889 30.3404 33.2858 30.4202 33.5881 30.4207C33.89 30.4202 34.1865 30.3405 34.4478 30.1894C34.7092 30.0384 34.9263 29.8213 35.0774 29.56C35.2284 29.2987 35.3082 29.0022 35.3087 28.7004C35.3091 28.3986 35.2302 28.1019 35.08 27.8401L21.8064 4.86132C21.6864 4.65289 21.524 4.47196 21.3296 4.33022C21.1353 4.18849 20.9134 4.0891 20.6782 4.03849C20.4431 3.98788 20.1999 3.98717 19.9645 4.03641C19.729 4.08565 19.5065 4.18373 19.3114 4.32433C18.9631 4.58715 18.7246 4.96972 18.6419 5.39811C18.5592 5.8265 18.6383 6.27033 18.8638 6.64384L21.1015 10.5035C21.2251 10.7208 21.2894 10.9667 21.2881 11.2167C21.2868 11.4667 21.2199 11.712 21.0941 11.928V11.928Z"
                                fill="url(#paint1_linear_444_1260)"/>
                            <path
                                d="M20.5421 30.4616C20.8165 30.4598 21.0865 30.3926 21.3297 30.2655C21.5729 30.1383 21.7821 29.9549 21.9401 29.7306C22.0981 29.5062 22.2002 29.2474 22.2379 28.9757C22.2756 28.7039 22.2479 28.4271 22.157 28.1682C22.0372 27.8357 21.8163 27.5491 21.5254 27.3485C21.2345 27.1479 20.888 27.0433 20.5347 27.0494V27.0494H12.8331C12.5324 27.0532 12.2361 26.9772 11.9744 26.8291C11.7127 26.681 11.4949 26.4662 11.3433 26.2066C11.1916 25.9469 11.1116 25.6517 11.1112 25.3511C11.1109 25.0504 11.1903 24.755 11.3413 24.495L18.4648 12.1554C18.6928 11.7598 18.7542 11.2898 18.6357 10.8489C18.5171 10.4079 18.2283 10.0321 17.8326 9.80416C17.4369 9.57619 16.9669 9.51471 16.5259 9.63325C16.0849 9.75179 15.7091 10.0406 15.4811 10.4362L2.22997 33.4188C2.11707 33.6146 2.04387 33.8308 2.01455 34.055C1.98522 34.2792 2.00034 34.5069 2.05904 34.7253C2.11774 34.9436 2.21887 35.1482 2.35667 35.3275C2.49446 35.5067 2.66622 35.6571 2.86213 35.77C3.05804 35.8828 3.27426 35.956 3.49846 35.9854C3.72266 36.0147 3.95044 35.9996 4.1688 35.9409C4.38715 35.8822 4.59181 35.7811 4.77108 35.6433C4.95035 35.5055 5.10072 35.3338 5.21362 35.1379L7.48119 31.2149C7.60569 30.9985 7.78499 30.8187 8.00105 30.6937C8.21711 30.5687 8.46231 30.5028 8.71195 30.5026L20.5421 30.4616Z"
                                fill="url(#paint2_linear_444_1260)"/>
                            <path
                                d="M55.4716 6.5625C55.4186 6.06629 55.1951 5.67992 54.8011 5.40341C54.411 5.12689 53.9034 4.98864 53.2784 4.98864C52.839 4.98864 52.4621 5.05492 52.1477 5.1875C51.8333 5.32008 51.5928 5.5 51.4261 5.72727C51.2595 5.95455 51.1742 6.21402 51.1705 6.50568C51.1705 6.74811 51.2254 6.95833 51.3352 7.13636C51.4489 7.31439 51.6023 7.46591 51.7955 7.59091C51.9886 7.71212 52.2027 7.81439 52.4375 7.89773C52.6723 7.98106 52.9091 8.05114 53.1477 8.10795L54.2386 8.38068C54.678 8.48295 55.1004 8.62121 55.5057 8.79545C55.9148 8.9697 56.2803 9.18939 56.6023 9.45455C56.928 9.7197 57.1856 10.0398 57.375 10.4148C57.5644 10.7898 57.6591 11.2292 57.6591 11.733C57.6591 12.4148 57.4848 13.0152 57.1364 13.5341C56.7879 14.0492 56.2841 14.4527 55.625 14.7443C54.9697 15.0322 54.1761 15.1761 53.2443 15.1761C52.339 15.1761 51.553 15.036 50.8864 14.7557C50.2235 14.4754 49.7045 14.0663 49.3295 13.5284C48.9583 12.9905 48.7576 12.3352 48.7273 11.5625H50.8011C50.8314 11.9678 50.9564 12.3049 51.1761 12.5739C51.3958 12.8428 51.6818 13.0436 52.0341 13.1761C52.3902 13.3087 52.7879 13.375 53.2273 13.375C53.6856 13.375 54.0871 13.3068 54.4318 13.1705C54.7803 13.0303 55.053 12.8371 55.25 12.5909C55.447 12.3409 55.5473 12.0492 55.5511 11.7159C55.5473 11.4129 55.4583 11.1629 55.2841 10.9659C55.1098 10.7652 54.8655 10.5985 54.5511 10.4659C54.2405 10.3295 53.8769 10.2083 53.4602 10.1023L52.1364 9.76136C51.178 9.51515 50.4205 9.14205 49.8636 8.64205C49.3106 8.13826 49.0341 7.4697 49.0341 6.63636C49.0341 5.95076 49.2197 5.35038 49.5909 4.83523C49.9659 4.32008 50.4754 3.92045 51.1193 3.63636C51.7633 3.34848 52.4924 3.20455 53.3068 3.20455C54.1326 3.20455 54.8561 3.34848 55.4773 3.63636C56.1023 3.92045 56.5928 4.31629 56.9489 4.82386C57.3049 5.32765 57.4886 5.9072 57.5 6.5625H55.4716ZM69.9361 9.18182C69.9361 10.4356 69.7012 11.5095 69.2315 12.4034C68.7656 13.2936 68.1293 13.9754 67.3224 14.4489C66.5194 14.9223 65.6084 15.1591 64.5895 15.1591C63.5705 15.1591 62.6577 14.9223 61.8509 14.4489C61.0478 13.9716 60.4115 13.2879 59.9418 12.3977C59.4759 11.5038 59.2429 10.4318 59.2429 9.18182C59.2429 7.92803 59.4759 6.85606 59.9418 5.96591C60.4115 5.07197 61.0478 4.38826 61.8509 3.91477C62.6577 3.44129 63.5705 3.20455 64.5895 3.20455C65.6084 3.20455 66.5194 3.44129 67.3224 3.91477C68.1293 4.38826 68.7656 5.07197 69.2315 5.96591C69.7012 6.85606 69.9361 7.92803 69.9361 9.18182ZM67.8168 9.18182C67.8168 8.29924 67.6785 7.55492 67.402 6.94886C67.1293 6.33902 66.7505 5.87879 66.2656 5.56818C65.7808 5.25379 65.2221 5.09659 64.5895 5.09659C63.9569 5.09659 63.3982 5.25379 62.9134 5.56818C62.4285 5.87879 62.0478 6.33902 61.7713 6.94886C61.4986 7.55492 61.3622 8.29924 61.3622 9.18182C61.3622 10.0644 61.4986 10.8106 61.7713 11.4205C62.0478 12.0265 62.4285 12.4867 62.9134 12.8011C63.3982 13.1117 63.9569 13.267 64.5895 13.267C65.2221 13.267 65.7808 13.1117 66.2656 12.8011C66.7505 12.4867 67.1293 12.0265 67.402 11.4205C67.6785 10.8106 67.8168 10.0644 67.8168 9.18182ZM71.929 3.36364H74.5085L77.9631 11.7955H78.0994L81.554 3.36364H84.1335V15H82.1108V7.00568H82.0028L78.7869 14.9659H77.2756L74.0597 6.98864H73.9517V15H71.929V3.36364ZM86.429 15V3.36364H93.9972V5.13068H88.5369V8.28977H93.6051V10.0568H88.5369V13.233H94.0426V15H86.429ZM109.679 3.36364V15H107.804L102.321 7.07386H102.224V15H100.116V3.36364H102.003L107.48 11.2955H107.582V3.36364H109.679ZM111.976 15V3.36364H119.43V5.13068H114.084V8.28977H118.919V10.0568H114.084V15H111.976ZM120.839 5.13068V3.36364H130.124V5.13068H126.527V15H124.436V5.13068H120.839ZM51.2557 22.3636V34H49.1477V22.3636H51.2557ZM63.1009 22.3636V34H61.2259L55.7429 26.0739H55.6463V34H53.5384V22.3636H55.4247L60.902 30.2955H61.0043V22.3636H63.1009ZM66.9545 22.3636L69.983 31.5227H70.1023L73.125 22.3636H75.4432L71.3409 34H68.7386L64.642 22.3636H66.9545ZM76.9759 34V22.3636H84.544V24.1307H79.0838V27.2898H84.152V29.0568H79.0838V32.233H84.5895V34H76.9759ZM93.0185 25.5625C92.9654 25.0663 92.742 24.6799 92.348 24.4034C91.9579 24.1269 91.4503 23.9886 90.8253 23.9886C90.3859 23.9886 90.009 24.0549 89.6946 24.1875C89.3802 24.3201 89.1397 24.5 88.973 24.7273C88.8063 24.9545 88.7211 25.214 88.7173 25.5057C88.7173 25.7481 88.7723 25.9583 88.8821 26.1364C88.9957 26.3144 89.1491 26.4659 89.3423 26.5909C89.5355 26.7121 89.7495 26.8144 89.9844 26.8977C90.2192 26.9811 90.456 27.0511 90.6946 27.108L91.7855 27.3807C92.2249 27.483 92.6473 27.6212 93.0526 27.7955C93.4616 27.9697 93.8272 28.1894 94.1491 28.4545C94.4749 28.7197 94.7325 29.0398 94.9219 29.4148C95.1113 29.7898 95.206 30.2292 95.206 30.733C95.206 31.4148 95.0317 32.0152 94.6832 32.5341C94.3348 33.0492 93.831 33.4527 93.1719 33.7443C92.5166 34.0322 91.723 34.1761 90.7912 34.1761C89.8859 34.1761 89.0999 34.036 88.4332 33.7557C87.7704 33.4754 87.2514 33.0663 86.8764 32.5284C86.5052 31.9905 86.3045 31.3352 86.2741 30.5625H88.348C88.3783 30.9678 88.5033 31.3049 88.723 31.5739C88.9427 31.8428 89.2287 32.0436 89.581 32.1761C89.937 32.3087 90.3348 32.375 90.7741 32.375C91.2325 32.375 91.634 32.3068 91.9787 32.1705C92.3272 32.0303 92.5999 31.8371 92.7969 31.5909C92.9938 31.3409 93.0942 31.0492 93.098 30.7159C93.0942 30.4129 93.0052 30.1629 92.831 29.9659C92.6567 29.7652 92.4124 29.5985 92.098 29.4659C91.7874 29.3295 91.4238 29.2083 91.0071 29.1023L89.6832 28.7614C88.7249 28.5152 87.9673 28.142 87.4105 27.642C86.8575 27.1383 86.581 26.4697 86.581 25.6364C86.581 24.9508 86.7666 24.3504 87.1378 23.8352C87.5128 23.3201 88.0223 22.9205 88.6662 22.6364C89.3101 22.3485 90.0393 22.2045 90.8537 22.2045C91.6795 22.2045 92.4029 22.3485 93.0241 22.6364C93.6491 22.9205 94.1397 23.3163 94.4957 23.8239C94.8518 24.3277 95.0355 24.9072 95.0469 25.5625H93.0185ZM96.5739 24.1307V22.3636H105.858V24.1307H102.261V34H100.17V24.1307H96.5739Z"
                                fill="#111827"/>
                            <defs>
                                <linearGradient id="paint0_linear_444_1260" x1="5.91801" y1="27.5828" x2="38.1954"
                                                y2="26.3695" gradientUnits="userSpaceOnUse">
                                    <stop offset="0.183111" stopColor="#FF56F6"/>
                                    <stop offset="0.432593" stopColor="#B936EE"/>
                                    <stop offset="0.854443" stopColor="#3BACE2"/>
                                    <stop offset="1" stopColor="#406AFF"/>
                                </linearGradient>
                                <linearGradient id="paint1_linear_444_1260" x1="13.306" y1="15.8759" x2="35.1962"
                                                y2="15.5545" gradientUnits="userSpaceOnUse">
                                    <stop offset="0.183111" stopColor="#FF56F6"/>
                                    <stop offset="0.432593" stopColor="#B936EE"/>
                                    <stop offset="0.854443" stopColor="#3BACE2"/>
                                    <stop offset="1" stopColor="#406AFF"/>
                                </linearGradient>
                                <linearGradient id="paint2_linear_444_1260" x1="0.312144" y1="21.4524" x2="22.1421"
                                                y2="21.1329" gradientUnits="userSpaceOnUse">
                                    <stop offset="0.183111" stopColor="#FF56F6"/>
                                    <stop offset="0.432593" stopColor="#B936EE"/>
                                    <stop offset="0.854443" stopColor="#3BACE2"/>
                                    <stop offset="1" stopColor="#406AFF"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </Link>
                    <ul className="flex items-center space-x-8 text-base font-semibold lg:hidden">
                        <li>
                            <Link href="/explore">
                                Explore
                            </Link>
                        </li>
                        <li>
                            <Link href="/how-it-works">
                                How it works
                            </Link>
                        </li>
                        <li>
                            <Link href="/blog">
                                Blog
                            </Link>
                        </li>
                    </ul>
                    <div className="flex items-center">
                        <div className="relative">
                            <StatusButton/>
                        </div>
                        <div className="hidden relative lg:block">
                            <Burger/>
                        </div>
                        <SelectLanguage/>
                    </div>
                    <ConnectWalletPopup/>
                </div>
            </div>
        </header>
    )
}


function StatusButton() {
    const status = useAuthorizationStore(state => state.status)

    return (
        <>
            {status === StatusAuthentication.LOADING && (
                <LoadingButton
                    btnClasses="w-[154px] flex items-center justify-center bg-dark-purplish-blue text-white rounded-3xl shadow-btn py-2.5 px-6 outline-0 duration-200 ease-out hover:bg-sapphire-blue lg:hidden"
                    svgClasses="animate-spin w-5 h-5"
                />
            )}
            {status === StatusAuthentication.NOT_AUTHENTICATION && (
                <ConnectWalletButton classes="w-[154px] bg-dark-purplish-blue text-sm text-white font-semibold rounded-3xl shadow-btn py-2.5 px-6 duration-200 ease-out hover:bg-greyish-purplish-blue lg:hidden"/>
            )}
            {status === StatusAuthentication.AUTHENTICATION && (
                <AuthorizedButton
                    classesBtn="w-[154px] flex items-center justify-center bg-dark-purplish-blue text-sm text-white font-semibold rounded-3xl shadow-btn py-2.5 px-6 outline-0 duration-200 ease-out hover:bg-greyish-purplish-blue lg:hidden"/>
            )}
        </>
    )
}